{"ast":null,"code":"var _jsxFileName = \"/home/orcun/Desktop/BoardProject/traveller-check-list/src/containers/Items.js\";\nimport React, { useState, useEffect } from \"react\";\nimport db from \"../fireStoreData\";\nimport firebase from \"firebase\";\nimport ItemDefault from \"../components/ItemDefault\";\nimport { Form, Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport ItemAdded from \"../components/ItemAdded\";\n\nfunction Items(props) {\n  // create new state that stores the props.tripData.items\n  console.log(props.tripData.items.map(item => item.name));\n  const [defaultItems, setDefaultItems] = useState([]);\n  const [addedItems, setAddedItems] = useState();\n  const [trips, setTrips] = useState([]);\n\n  const fetchDefaultItems = async () => {\n    const res = await db.collection('defaultitems').get();\n    const itemsData = res.docs.map(items => {\n      const data = items.data();\n      const id = items.id;\n      return {\n        id,\n        ...data\n      };\n    });\n    setDefaultItems(itemsData);\n  };\n\n  const fetchTripData = async () => {\n    const res = await db.collection('usertrip').get();\n    const tripData = res.docs.map(trip => {\n      const data = trip.data();\n      const id = trip.id;\n      return {\n        id,\n        ...data\n      };\n    });\n    setTrips(tripData);\n    console.log(tripData);\n    console.log(trips);\n  };\n\n  useEffect(() => {\n    fetchDefaultItems();\n    /* fetchTripData(); */\n  }, []);\n\n  const refreshPage = () => {\n    window.location.reload(false);\n  };\n\n  const addNewItem = e => {\n    console.log(\"Hello\");\n    let newItem = {\n      name: `${addedItems}`,\n      id: Date.now()\n    };\n    console.log(addedItems);\n    console.log(newItem);\n    db.collection('usertrip').doc(props.tripData.id).update({\n      items: firebase.firestore.FieldValue.arrayUnion(newItem)\n    }); //whenever you add a new item make sure to add it to the state too inorder to have live update\n\n    /* setAddedItems(newItem)\r\n    console.log(props.tripData.items) */\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, defaultItems.map(item => /*#__PURE__*/React.createElement(ItemDefault, {\n    value: item.item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 32\n    }\n  })), // props.tripData.items.map(item => <h1>item</h1>)\n  props.tripData.items.map(item => /*#__PURE__*/React.createElement(ItemAdded, {\n    value: item.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    onClick: addNewItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    onChange: e => setAddedItems(e.target.value),\n    placeholder: \"Add New Item\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"basic-addon2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: refreshPage,\n    variant: \"outline-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Add Item\")), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default Items;","map":{"version":3,"sources":["/home/orcun/Desktop/BoardProject/traveller-check-list/src/containers/Items.js"],"names":["React","useState","useEffect","db","firebase","ItemDefault","Form","Button","FormGroup","FormControl","ControlLabel","InputGroup","ItemAdded","Items","props","console","log","tripData","items","map","item","name","defaultItems","setDefaultItems","addedItems","setAddedItems","trips","setTrips","fetchDefaultItems","res","collection","get","itemsData","docs","data","id","fetchTripData","trip","refreshPage","window","location","reload","addNewItem","e","newItem","Date","now","doc","update","firestore","FieldValue","arrayUnion","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport db from \"../fireStoreData\";\r\nimport firebase from \"firebase\"\r\nimport ItemDefault from \"../components/ItemDefault\"\r\nimport { Form, Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport ItemAdded from \"../components/ItemAdded\";\r\n\r\nfunction Items(props) {\r\n  // create new state that stores the props.tripData.items\r\n\r\n  \r\n  console.log(props.tripData.items.map(item => item.name))\r\n  \r\n  \r\n  const [defaultItems, setDefaultItems] = useState([]);\r\n\r\n  const [addedItems, setAddedItems] = useState();\r\n  const [trips, setTrips] = useState([]);\r\n\r\n  const fetchDefaultItems = async ()=>{\r\n     const res = await db.collection('defaultitems').get();\r\n     const itemsData = res.docs.map(items => {\r\n     const data = items.data()\r\n     const id = items.id\r\n     return { id, ...data}\r\n    })\r\n    setDefaultItems(itemsData)\r\n  }\r\n\r\n  const fetchTripData = async ()=>{\r\n    const res = await db.collection('usertrip').get();\r\n    const tripData = res.docs.map(trip => {\r\n      const data = trip.data()\r\n      const id = trip.id\r\n      return { id, ...data}\r\n    })\r\n    setTrips(tripData);\r\n    console.log(tripData);\r\n    console.log(trips)\r\n   }\r\n\r\n  useEffect(()=>{\r\n    fetchDefaultItems();\r\n    /* fetchTripData(); */\r\n  },[])\r\n\r\n  const refreshPage = () => {\r\n    window.location.reload(false);\r\n  }\r\n\r\n  const addNewItem = e => {\r\n    console.log(\"Hello\")\r\n    let newItem = {\r\n      name: `${addedItems}`,\r\n      id: Date.now(),\r\n    }\r\n    console.log(addedItems)\r\n    console.log(newItem)\r\n\r\n    db.collection('usertrip').doc(props.tripData.id).update({\r\n      items:firebase.firestore.FieldValue.arrayUnion(newItem)}\r\n      )\r\n      //whenever you add a new item make sure to add it to the state too inorder to have live update\r\n    /* setAddedItems(newItem)\r\n    console.log(props.tripData.items) */\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      {\r\n        defaultItems.map(item=><ItemDefault value={item.item}/>)\r\n      }\r\n      {\r\n        // props.tripData.items.map(item => <h1>item</h1>)\r\n        props.tripData.items.map(item =><ItemAdded value={item.name}/>)\r\n      }\r\n      <form onClick={addNewItem} >\r\n      <InputGroup  className=\"mb-3\">\r\n        <FormControl\r\n          onChange={e=> setAddedItems(e.target.value)}\r\n          placeholder=\"Add New Item\"\r\n          aria-label=\"Recipient's username\"\r\n          aria-describedby=\"basic-addon2\"\r\n        />\r\n        <InputGroup.Append>\r\n          <Button type=\"submit\" onClick={refreshPage} variant=\"outline-secondary\">Add Item</Button>\r\n        </InputGroup.Append>\r\n        <InputGroup.Append>\r\n          {/* <Button type=\"submit\" onClick={deleteCard} variant=\"outline-secondary\">Delete Card</Button> */}\r\n        </InputGroup.Append>\r\n      </InputGroup>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Items;\r\n"]},"metadata":{},"sourceType":"module"}